<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Order Details</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
  </head>

  <body class="p-4">
    <h2>Order Details (ID: <span th:text="${order.id}"></span>)</h2>

    <p><b>User:</b> <span th:text="${order.user.email}"></span></p>
    <p><b>Status:</b> <span th:text="${order.status}"></span></p>
    <p><b>Total:</b> ₹ <span th:text="${order.totalAmount}"></span></p>
    <p><b>Date:</b> <span th:text="${order.createdAt}"></span></p>

    <hr />

    <h4>Ordered Items</h4>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Product</th>
          <th>Qty</th>
          <th>Price</th>
        </tr>
      </thead>

      <tbody>
        <tr th:each="item : ${items}">
          <td th:text="${item.product.name}">Product</td>
          <td th:text="${item.quantity}">1</td>
          <td>₹ <span th:text="${item.price}"></span></td>
        </tr>
      </tbody>
    </table>

    <hr />

    <div>
      <a href="/admin/dashboard" class="btn btn-secondary">Back</a>

      <form
        th:if="${order.status.name() == 'PENDING'}"
        th:action="@{'/admin/orders/accept/' + ${order.id}}"
        method="post"
        style="display: inline"
      >
        <button class="btn btn-sm btn-primary">Accept</button>
      </form>
    </div>
  </body>
</html>
